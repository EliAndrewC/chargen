# =============================================================================
# L5R NPC Generator Configuration Specification
# =============================================================================
#
# This file defines the schema for the configuration. Actual values go in
# development-defaults.ini (or development-secrets.ini for sensitive data).
#
# WEIGHTED RANDOM SELECTION:
# Throughout this config, integer values represent relative weights for random
# selection. Higher numbers mean that option is more likely to be chosen.
# For example, if lion=500 and fox=5, Lion clan NPCs are 100x more likely
# than Fox clan NPCs (reflecting their relative population sizes).
#
# HIERARCHICAL STRUCTURE:
# The character generation follows a hierarchical structure:
#   Clan -> Family -> House -> Lineage
#
# - CLAN: The great clan (e.g., Lion, Crane, Scorpion) or minor clan (Fox, Wasp)
# - FAMILY: Major families within a clan (e.g., Matsu, Akodo within Lion)
# - HOUSE: Vassal houses within a family, specific to the campaign region
#          (e.g., Damasu and Zenji are vassal houses of the Akodo)
# - LINEAGE: Branches within a house (e.g., different ancestral lines)
#
# Not all levels need to be defined - if a family has no houses defined,
# or a house has no lineages, those levels are simply skipped.
# =============================================================================

# Default character type shown in the UI dropdown
default_character_type = string(default="Samurai")

# Base URL for the Obsidian Portal campaign (used for generating links)
campaign_url = string

# -----------------------------------------------------------------------------
# [gemini] - Google Gemini API configuration for AI image generation
# -----------------------------------------------------------------------------
# Example:
#   api_key = "your-api-key-here"
[gemini]
api_key = string(default="")

# -----------------------------------------------------------------------------
# [obsidian_portal] - Obsidian Portal integration for uploading characters
# -----------------------------------------------------------------------------
# The official API is currently broken, so we use browser session cookies.
# To set up: log into OP in your browser, open DevTools, and copy the
# session cookie and CSRF token from the Network tab.
#
# Example:
#   session_cookie = "_obsidianportal_session=abc123..."
#   authenticity_token = "xyz789..."
#   asset_folder_id = "12345"
[obsidian_portal]
# Browser session approach (working)
session_cookie = string(default="")
authenticity_token = string(default="")
asset_folder_id = string(default="")

# OAuth credentials (API currently broken - kept for future use)
consumer_key = string(default="")
consumer_secret = string(default="")
access_token = string(default="")
access_token_secret = string(default="")
campaign_id = string(default="")

# -----------------------------------------------------------------------------
# [ranks] - Display names for character ranks by character type
# -----------------------------------------------------------------------------
# Maps numeric rank values to human-readable titles. Higher rank numbers
# generally mean higher status (for Samurai) or lower status (for Monks).
#
# Example:
#   [[Samurai]]
#   5 = "County Magistrate"
#   6 = "Deputy Provincial Minister"
#   7 = "Provincial Minister"
#
#   [[Monk]]
#   2 = "Abbot"
#   5 = "Adept Monk"
#   9 = "Initiate"
[ranks]
[[__many__]]
__many__ = string


# -----------------------------------------------------------------------------
# [rank_xp_bases] - Base XP values for different ranks by character type
# -----------------------------------------------------------------------------
# Determines the starting XP for characters at different rank thresholds.
# XP affects perceived age/experience in character descriptions.
#
# Example:
#   [[Samurai]]
#   3 = 50    # Ranks 3-4 start with ~50 XP
#   5 = 100   # Ranks 5-7 start with ~100 XP
#   8 = 150   # Ranks 8+ start with ~150 XP
[rank_xp_bases]
[[__many__]]
__many__ = integer


# -----------------------------------------------------------------------------
# [schools] - Weighted school/training distribution by clan
# -----------------------------------------------------------------------------
# Determines what martial/social training a samurai is likely to have.
# Each clan can have its own distribution, with a [default] fallback.
# School names become part of the character's background description.
#
# Example:
#   [[default]]
#   bushi = 80       # 80% chance of generic bushi training
#   merchant = 10    # 10% chance of merchant background
#   courtier = 10    # 10% chance of courtier training
#
#   [[lion]]
#   akodo_bushi = 40      # Lion-specific: Akodo Bushi school
#   matsu_bushi = 40      # Lion-specific: Matsu Berserker school
#   ikoma_bard = 10       # Lion-specific: Ikoma Bard school
#   merchant = 5
#   courtier = 5
[schools]
[[__many__]]
__many__ = integer


# -----------------------------------------------------------------------------
# [clans] - Weighted distribution of clans for random selection
# -----------------------------------------------------------------------------
# When generating a random NPC without specifying a clan, these weights
# determine how likely each clan is to be chosen. Weights should reflect
# the relative population/presence of each clan in your campaign region.
#
# Example:
#   lion = 500       # Dominant clan in the region
#   crab = 300       # Strong presence
#   fox = 5          # Rare minor clan
#   wasp = 5         # Rare minor clan
[clans]
__many__ = integer

# -----------------------------------------------------------------------------
# [clan] - Families within each clan (weighted)
# -----------------------------------------------------------------------------
# Defines which families exist within each clan and their relative frequency.
# When a clan is selected, these weights determine which family is chosen.
#
# Example:
#   [[lion]]
#   matsu = 275    # Largest Lion family
#   akodo = 150    # Second largest
#   ikoma = 50     # Smaller family
#   kitsu = 25     # Smallest family
#
#   [[wasp]]
#   tsuruchi = 5   # Only family in the Wasp clan
[clan]
[[__many__]]
__many__ = integer


# -----------------------------------------------------------------------------
# [family] - Vassal houses within each family (weighted)
# -----------------------------------------------------------------------------
# Defines local vassal houses within the great families. These are typically
# campaign-specific - you only need to define houses that are relevant to
# your campaign's geographic region.
#
# If a family has no houses defined here, the house level is skipped.
#
# Example:
#   [[matsu]]
#   zenji = 5      # The Zenji are a vassal house of the Matsu
#
#   [[bayushi]]
#   kyo = 5        # The Kyo are a vassal house of the Bayushi
[family]
[[__many__]]
__many__ = integer

# -----------------------------------------------------------------------------
# [house] - Lineages within each house (weighted)
# -----------------------------------------------------------------------------
# Defines lineages (ancestral branches) within vassal houses. Like houses,
# these are campaign-specific and only need to be defined where relevant.
#
# If a house has no lineages defined here, the lineage level is skipped.
#
# Example:
#   [[zenji]]
#   zenji = 40     # Main Zenji line
#   asuka = 30     # Asuka branch of the Zenji
#   makito = 30    # Makito branch of the Zenji
#
#   [[kyo]]
#   kyo = 25       # Main Kyo line
#   rui = 25       # Rui branch
#   denki = 20     # Denki branch
[house]
[[__many__]]
__many__ = integer
